var randomId="";function autoComplete(t){randomId=generateRandomId(getRandomNumber()),addInput(t.rootInputId,t.hiddenInputIdName,t.inputConfig);var e=$("#"+randomId);t.urlCall,e.typeahead({minLength:void 0===t.minLength||t.minLength,autoSelect:void 0===t.autoSelect||t.autoSelect,hint:void 0===t.hint||t.hint,highlight:void 0===t.highlight||t.highlight,limit:void 0!==t.maxShow?t.maxShow:600,items:void 0!==t.maxItens?t.maxItens:600,showHintOnFocus:"all",updater:void 0!==t.onUpdate?t.onUpdate:e=>($("#"+t.hiddenInputIdName).val(e[t.call.defaultId]),e[t.call.defaultText]),afterSelect:t.afterSelect,source:(e,o,n)=>{call(t.call,e,o)},displayText:t.displayText});getFocusBlur(e,t.inputConfig.arrowIcons),autoAdjustDropDown(e,randomId),setArrowClick(e)}function call(t,e,o){t.success;$.ajax({url:t.urlCall,method:void 0!==t.method?t.method:"GET",dataType:void 0!==t.dataType?t.dataType:"json",timeout:DashboardConfig.getTimeout(),async:void 0===t.async||t.async,data:void 0!==t.data?t.data:{busca:e,limit:t.limit},success:void 0!==t.success?t.success:e=>{let n=[],a=e.response;a=void 0!==t.defaultIndex?a[t.defaultIndex]:a,$.each(a,function(t,e){var o=new Object;for(const[t,n]of Object.entries(e)){let e=t.toString().toLowerCase(),a=n.toString();o[e]=a}n[t]=o}),o(n)}})}function getFocusBlur(t,e){var o=void 0!==e.up?e.up:"glyphicon.glyphicon-chevron-up",n=void 0!==e.down?e.down:"glyphicon.glyphicon-chevron-down";t.blur(function(){$(".button-autocomplete-du."+o).removeClass("hide"),$(".button-autocomplete-du."+n).addClass("hide")}).focus(function(){$(".button-autocomplete-du.glyphicon."+n).removeClass("hide"),$(".button-autocomplete-du.glyphicon."+o).addClass("hide")})}function autoAdjustDropDown(t,e){$("#"+e+".dropdown-menu").css("min-width: "+t.width()+" !important"),$("#"+e+".dropdown-menu").css("max-width: "+t.width()+" !important")}function setArrowClick(t){$(".button-autocomplete-du").click(function(){t.focus()})}function addInput(t,e,o){let n=void 0!==o.placeholder?o.placeholder:"Comece a digitar para pesquisar...",a=void 0!==o.required?o.required:"required";a=(o.required,"required"),$('<input type="hidden" id="'+e+'" name="'+e+'"/><div id="type-head-cnae"><div class="form-input"><span class="button-autocomplete-du glyphicon glyphicon-chevron-up"></span><span class="button-autocomplete-du glyphicon glyphicon-chevron-down hide"></span><input class="form-control typeahead twitter-typeahead" id="'+randomId+'" data-provide="typeahead" placeholder="'+n+'" type="text" '+a+"></div></div>").insertAfter($("#"+t))}function generateRandomId(t){for(var e="",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=o.length,a=0;a<t;a++)e+=o.charAt(Math.floor(Math.random()*n));return e}function getRandomNumber(){return Math.floor(15*Math.random())}
